/**
 * hamsa - Object.Observe wrapper.
 * @version v0.3.25
 * @link    http://gethamsa.com
 * @author  Javi Jimenez Villar (@soyjavi) (http://soyjavi.com)
 * @license MIT
 */
(function(){"use strict";var e,t,n,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=["add","update","delete"],function(o){var s;return s=function(){function o(r,o,s){var i,u,c;null==r&&(r={}),null==s&&(s=e),this.constructor.className=this.constructor.name,this.constructor.records[this.uid=n()]=this,c=this.constructor.fields;for(u in c)i=c[u],(r[u]||null!=i["default"])&&("function"==typeof this[u]?this[u](r[u]||i["default"]):this[u]=t(r[u],i));null!=o&&this.observe(o,s)}return o.records={},o.fields={},o.names=[],o.observer=void 0,o.define=function(e){var t;return this.fields=null!=e?e:{},this.records={},this.names=function(){var e;e=[];for(t in this.fields)e.push(t);return e}.call(this),this},o.all=function(){return this.find()},o.destroyAll=function(){var e;for(e in this.records)delete this.records[e];return this.records},o.find=function(e){var t,n,r,o;n=this.records,r=[];for(o in n)t=n[o],(!e||e(t))&&r.push(t);return r},o.findBy=function(e,t){var n,r,o,s;r=this.records,o=[];for(s in r)n=r[s],n[e]===t&&o.push(n);return o},o.observe=function(t,n){return null==n&&(n=e),this.observer=Object.observe(this.records,function(e){return function(n){var r,o,s,i,u,c;for(u=[],o=0,s=n.length;s>o;o++)c=n[o],r={type:c.type,name:c.name},"add"===(i=c.type)||"update"===i?r.object=e.records[c.name]:r.oldValue=c.oldValue,u.push(t(r));return u}}(this),n)},o.unobserve=function(){return Object.unobserve(this.records,this.observer)},o.prototype.observe=function(t,n){return null==n&&(n=e),this.observer=Object.observe(this,function(e){return function(n){var o,s,i,u,c;for(u=[],o=0,s=n.length;s>o;o++)c=n[o],i=c.name,r.call(e.constructor.names,i)>=0&&(delete c.object.observer,u.push(t(c)));return u}}(this),n)},o.prototype.unobserve=function(){return Object.unobserve(this.fields,this.observer)},o.prototype.destroy=function(){return delete this.constructor.records[this.uid]},o}(),"function"==typeof define&&define.amd?define(function(){return s}):o.Hamsa=s,"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=s:void 0}(this),n=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"===e?t:3&t|8,n.toString(16)}).toUpperCase()},t=function(e,t){return t.type!==Date?t.type(e||t["default"]):e||t.type(t["default"])},window._extends=function(e,t){var n,r;n=function(){this.constructor=e};for(r in t)_hasProp.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},window._hasProp={}.hasOwnProperty,Object.observe||function(t,n,o){var s,i,u,c,a,f,d,l,h,p;return e=["add","update","delete"],c=n.indexOf||function(e,t,r){return n.prototype.indexOf.call(e,t,r)},a=o.requestAnimationFrame||o.webkitRequestAnimationFrame||function(){var e,t;return e=+new Date,t=e,function(n){var r;return r=+new Date,setTimeout(function(){return n((t=+new Date)-e)},17)}}(),f=function(e,t,n){var o,s,i,u;return o=d.get(e),o?p(e,o,t,n):(i=Object.getOwnPropertyNames(e),o={handlers:new Map,properties:i,values:function(){var t;t=[];for(s in e)u=e[s],r.call(i,s)>=0&&t.push(u);return t}()},d.set(e,o),p(e,o,t,n),1===d.size?a(h):void 0)},p=function(e,t,n,r){var o;return o=u.get(n),o||u.set(n,o={observed:new Map,changeRecords:[]}),o.observed.set(e,{events:r,data:t}),t.handlers.set(n,o)},l=function(e,t,n){var r,o,i,u,a,f,d,l,h,p,v;if(e.handlers.size){for(v=e.values,a=Object.getOwnPropertyNames(t),l=e.properties.slice(),h=l.length,i=0,f=a.length;f>i;i++)u=a[i],o=c(l,u),p=t[u],-1===o?(s(t,e,{name:u,type:"add",object:t},n),e.properties.push(u),v.push(p)):(d=v[o],l[o]=null,h--,(d===p?0===d&&1/d!==1/p:d===d||p===p)&&(s(t,e,{name:u,type:"update",object:t,oldValue:d},n),e.values[o]=p));for(r=l.length;h&&r--;)null!==l[r]&&(s(t,e,{name:l[r],type:"delete",object:t,oldValue:v[r]},n),e.properties.splice(r,1),e.values.splice(r,1),h--)}},s=function(e,t,n,r){t.handlers.forEach(function(t){var o;o=t.observed.get(e).events,("string"!=typeof r||-1===c(o,r))&&c(o,n.type)>-1&&t.changeRecords.push(n)})},h=function(){d.size&&(d.forEach(l),u.forEach(i),a(h))},i=function(e,t){e.changeRecords.length&&(t(e.changeRecords),e.changeRecords=[])},d=new Map,u=new Map,t.observe=function(n,r,o){if(null==o&&(o=e),!n||"object"!=typeof n&&"function"!=typeof n)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof r)throw new TypeError("Object.observe cannot deliver to non-function");if(t.isFrozen&&t.isFrozen(r))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(arguments.length>2&&"object"!=typeof o)throw new TypeError("Object.observe cannot use non-object accept list");return f(n,r,o),n},t.unobserve=function(e,t){var n,r;if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof t)throw new TypeError("Object.unobserve cannot deliver to non-function");return n=u.get(t),r=void 0,n&&(r=n.observed.get(e))&&(n.observed.forEach(function(e,t){l(e.data,t)}),a(function(){i(n,t)}),1===n.observed.size&&n.observed.has(e)?u["delete"](t):n.observed["delete"](e),1===r.data.handlers.size?d["delete"](e):r.data.handlers["delete"](t)),e}}(Object,Array,this)}).call(this);